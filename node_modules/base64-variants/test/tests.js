require("better-require")("json");
var assert = require("assert")
var tv4 = require("tv4");

var schema = require("../variants.schema.json");
var data = require("../variants.json");
var module_export = require("../main.js");


describe("Schema 'variants.schema.json' conformity:", function(){

	it("variants.json", function(){
		var test = tv4.validate(data, schema);
		assert.equal(true, test); 
	});

});

describe("Module exports correct data:", function(){

	it("variants.json === main.js", function(){
		assert.equal(data, module_export); 
	});

});

/*
var validateJson = function (schemaPath, dataPaths, basePath) {
	basePath = basePath || "../";
	var schema = require(basePath + schemaPath);
	describe("Schema '" + schemaPath + "' conformity:", function(){
		dataPaths.forEach(function (dataPath) {
			it(dataPath, function(){
				var data = require(basePath + dataPath),
					test = tv4.validate(data, schema);
				if (!test) console.log("    " + test.error);
				assert.equal(true, test); 
			});
		});
	});

}

validateJson("variants.schema.json", ["variants.json"]);
*/
