base64-format
=============

Re-format base64-encoded text from one [implementation](https://en.wikipedia.org/wiki/Base64#Implementations_and_history) to another.

Supported variants
------------------
* ```base64```: Vanilla base64 **- default**
* ```base64_64```: Vanilla base64, with 64-char lines
* ```base64_76```: Vanilla base64, with 76-char lines
* ```rfc4648```: RFC 4648 (base64url)
* ```rfc4648_alt```: RFC 4648 with "="
* ```y64```: YUI "Y64"
* ```xml```: XML-compatible

Install
-------
```shell
npm install base64-format
```

Usage
-----
Imperative:
```javascript
var formatter = require("base64-format");

var options = {
	from: "base64",
	to: "rfc4648"
}

newString = formatter(oldString, options);
```

Functional:
```javascript
var formatter = require("base64-format");

var input = {
	from: "base64",
	to: "rfc4648",
	data: oldString
}

output = formatter.functional(input);
newString = output.data;

// input.from and input.to are automatically swapped
newStringFormat = output.from;
```

Options
-------
```javascript
defaults: {

	// Old format
	from: "base64",

	// New format
	to: "base64",

	// Delete non-encoding characters pre-format?
	parse: true,

	// Transition targets (shouldn't need to change)
	targets: [
		"i62", 
		"i63", 
		"pad"
	],

	// *** functional-specific ***

	// Swap `from` and `to` post-format?
	swapFromAndTo: true,

	// Current data
	data: undefined

}
```

Features
--------

**Pre-format parsing**
```javascript
// Delete anything that isn't base64 before formatting
var options = {
	from: "base64",
	parse: true
}
```

**Custom variants**
```javascript
formatter.variants["variantName"] = {
	targets: {
		i62: "+", // Index 62
		i63: "/", // Index 63
		pad: "=" // Padding char
	},
	line: {
		length: 64,
		separator: "\r\n"
	}
};
```

**Custom defaults**
```javascript
formatter = require("base64-format").defaults({
	to: "rfc4648"
});

newString = formatter(oldString);
```
